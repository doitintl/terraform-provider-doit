---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "doit_report Resource - terraform-provider-doit"
subcategory: ""
description: |-
  Manage Cloud Analytics reports and get reports data in JSON format.
---

# doit_report (Resource)

Manage Cloud Analytics reports and get reports data in JSON format.

## Example Usage

```terraform
# Create a report with multiple metrics
resource "doit_report" "my_report" {
  name        = "Monthly Cost Report"
  description = "Tracks monthly costs and usage across cloud providers"
  config = {
    # Use metrics list (supports 1-4 metrics)
    metrics = [
      {
        type  = "basic"
        value = "cost"
      },
      {
        type  = "basic"
        value = "usage"
      }
    ]
    include_promotional_credits = false
    advanced_analysis = {
      trending_up   = false
      trending_down = false
      not_trending  = false
      forecast      = false
    }
    aggregation   = "total"
    time_interval = "month"
    data_source   = "billing"
    dimensions = [
      {
        id   = "year"
        type = "datetime"
      },
      {
        id   = "month"
        type = "datetime"
      }
    ]
    time_range = {
      mode            = "last"
      amount          = 12
      include_current = true
      unit            = "month"
    }
    # Compare against the same period last year
    secondary_time_range = {
      amount          = 1
      unit            = "year"
      include_current = false
    }
    filters = [
      {
        inverse = false
        id      = "cloud_provider"
        type    = "fixed"
        mode    = "is"
        values  = ["amazon-web-services", "google-cloud"]
      }
    ]
    group = [
      {
        id   = "cloud_provider"
        type = "fixed"
      }
    ]
    layout         = "table"
    display_values = "actuals_only"
    currency       = "USD"
  }
}

# ─────────────────────────────────────────────────────────────────────────────
# Assigning labels to a report
# ─────────────────────────────────────────────────────────────────────────────
# Labels help categorize and filter reports in the DoiT console.
# Create one or more labels, then reference their IDs in the report's `labels`
# attribute.

resource "doit_label" "cost_reports" {
  name  = "cost-reports"
  color = "blue"
}

resource "doit_report" "labeled_report" {
  name        = "Labeled Cost Report"
  description = "A report tagged with a label for easy filtering"
  labels      = [doit_label.cost_reports.id]
  config = {
    metrics        = [{ type = "basic", value = "cost" }]
    aggregation    = "total"
    data_source    = "billing"
    time_interval  = "month"
    display_values = "actuals_only"
    time_range = {
      mode            = "last"
      amount          = 3
      include_current = true
      unit            = "month"
    }
    layout   = "table"
    currency = "USD"
  }
}

# ─────────────────────────────────────────────────────────────────────────────
# Discovering valid filter values using data sources
# ─────────────────────────────────────────────────────────────────────────────
# Users often need to know which values are accepted in report filter attributes.
# The following examples show how to use doit_platforms, doit_products, and
# doit_dimensions data sources to discover valid values dynamically.

# Use doit_products to discover valid service_description filter values.
# Each product has an `id`, a `display_name`, and a `platform`.
# Setting `platform` filters products to a specific cloud provider.
#
# To discover valid platform identifiers for the `platform` attribute,
# use the doit_platforms data source:
data "doit_platforms" "all" {}

output "available_platforms" {
  description = "Available platform IDs for use with the doit_products data source"
  value       = [for p in data.doit_platforms.all.platforms : { id = p.id, name = p.display_name }]
}

# Get products for Google Cloud Platform
data "doit_products" "gcp" {
  platform = "google_cloud_platform"
}

output "gcp_products" {
  description = "Available GCP product IDs that can be used in service_description filters"
  value       = [for p in data.doit_products.gcp.products : { id = p.id, name = p.display_name }]
}

# Create a report filtered by specific GCP products from the data source
resource "doit_report" "gcp_product_costs" {
  name        = "GCP Product Costs (Dynamic)"
  description = "Uses doit_products data source to populate service_description filter values"
  config = {
    metrics        = [{ type = "basic", value = "cost" }]
    aggregation    = "total"
    data_source    = "billing"
    time_interval  = "month"
    display_values = "actuals_only"
    time_range = {
      mode            = "last"
      amount          = 3
      include_current = true
      unit            = "month"
    }
    # Use product IDs from the data source as filter values
    filters = [
      {
        id     = "service_description"
        type   = "fixed"
        mode   = "is"
        values = [for p in data.doit_products.gcp.products : p.id]
      }
    ]
    group = [
      { id = "cloud_provider", type = "fixed" },
      { id = "service_description", type = "fixed" }
    ]
    layout   = "table"
    currency = "USD"
  }
}

# Use doit_dimensions to discover valid dimension IDs and types for use in
# report filters, group-by, and dimension fields.
# Each dimension has an `id`, `type` (e.g. "fixed", "optional"), and `label`.
# These map directly to filters[].id, filters[].type, group[].id, group[].type.
data "doit_dimensions" "all" {}

output "available_dimensions" {
  description = "Available dimension IDs and types for use in report filters and group-by"
  value       = [for d in data.doit_dimensions.all.dimensions : { id = d.id, type = d.type, label = d.label }]
}

# Build a lookup map from dimension ID to its type for easy referencing.
# Some dimension IDs may exist with multiple types, so we group by ID and
# take the first type.
locals {
  dimension_types = { for id, types in {
    for d in data.doit_dimensions.all.dimensions : d.id => d.type...
  } : id => types[0] }
}

resource "doit_report" "cost_by_region" {
  name        = "Cost by Region (Dimension Discovery)"
  description = "Uses doit_dimensions data source to dynamically look up dimension types"
  config = {
    metrics        = [{ type = "basic", value = "cost" }]
    aggregation    = "total"
    data_source    = "billing"
    time_interval  = "month"
    display_values = "actuals_only"
    time_range = {
      mode            = "last"
      amount          = 3
      include_current = true
      unit            = "month"
    }
    # Use the dimension lookup to get the correct type for each dimension ID
    group = [
      {
        id   = "region"
        type = local.dimension_types["region"]
      }
    ]
    layout   = "table"
    currency = "USD"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `config` (Attributes) Report configuration. (see [below for nested schema](#nestedatt--config))
- `description` (String) Report description.
- `labels` (List of String) Array of label IDs assigned to the report
- `name` (String) Report name.

### Read-Only

- `id` (String) ID of the new report.
- `type` (String) Report type.

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Optional:

- `advanced_analysis` (Attributes) Advanced analysis options. Each can be set independently. (see [below for nested schema](#nestedatt--config--advanced_analysis))
- `aggregation` (String) How to aggregate data values in the report.
Possible values: `total`, `percent_total`, `percent_col`, `percent_row`
- `currency` (String) Currency code for monetary values.
Possible values: `USD`, `ILS`, `EUR`, `AUD`, `CAD`, `GBP`, `DKK`, `NOK`, `SEK`, `BRL`, `SGD`, `MXN`, `CHF`, `MYR`, `TWD`, `EGP`, `ZAR`, `JPY`, `IDR`, `AED`, `THB`, `COP`
- `custom_time_range` (Attributes) Required when the time range is set to "custom". (see [below for nested schema](#nestedatt--config--custom_time_range))
- `data_source` (String) Data source of the report.
Possible values: `billing`, `bqlens`, `billing-datahub`, `kubernetes-utilization`
- `dimensions` (Attributes List) See [Dimensions](https://help.doit.com/docs/cloud-analytics/reports/editing-your-cloud-report#dimensions). (see [below for nested schema](#nestedatt--config--dimensions))
- `display_values` (String) See [View data as (Comparative report)](https://help.doit.com/docs/cloud-analytics/reports/editing-your-cloud-report#view-as).
Possible values: `actuals_only`, `absolute_change`, `percentage_change`, `absolute_and_percentage`
- `filters` (Attributes List) The filters to apply to the report. (see [below for nested schema](#nestedatt--config--filters))
- `group` (Attributes List) The rows that appear in the tabular format of the report. See [Group by](https://help.doit.com/docs/cloud-analytics/reports/editing-your-cloud-report#group-by). (see [below for nested schema](#nestedatt--config--group))
- `include_promotional_credits` (Boolean) Whether to include [promotional credits](https://help.doit.com/docs/cloud-analytics/reports/editing-your-cloud-report#promotional-credits).
If set to **true**, the report must use time interval `month`, `quarter`, or `year`.
- `include_subtotals` (Boolean) Whether to include subgroup totals in the report. This option has no impact when reading a report via API.
- `layout` (String) Type of visualization or output format.
Possible values: `column_chart`, `stacked_column_chart`, `bar_chart`, `stacked_bar_chart`, `line_chart`, `spline_chart`, `area_chart`, `area_spline_chart`, `stacked_area_chart`, `treemap_chart`, `table`, `table_heatmap`, `table_row_heatmap`, `table_col_heatmap`, `csv_export`, `sheets_export`
- `metric` (Attributes) Deprecated: Use 'metrics' instead. (see [below for nested schema](#nestedatt--config--metric))
- `metric_filter` (Attributes) Metric filter to limit report rows by metric value. (see [below for nested schema](#nestedatt--config--metric_filter))
- `metrics` (Attributes List) The list of metrics to apply to the report. Custom metric can be used only once. Maximum number of metrics is 4. (see [below for nested schema](#nestedatt--config--metrics))
- `secondary_time_range` (Attributes) Secondary time range for comparative reports. (see [below for nested schema](#nestedatt--config--secondary_time_range))
- `sort_dimensions` (String) This option has no impact when reading reports via API.
Possible values: `asc`, `desc`, `a_to_z`
- `sort_groups` (String) This option has no impact when reading reports via API.
Possible values: `asc`, `desc`, `a_to_z`
- `splits` (Attributes List) The splits to use in the report. (see [below for nested schema](#nestedatt--config--splits))
- `time_interval` (String) Time interval for grouping data in the report.
Possible values: `hour`, `day`, `dayCumSum`, `week`, `isoweek`, `month`, `quarter`, `year`, `week_day`
- `time_range` (Attributes) Specify a predefined or custom time range for the report.
For example, to specify a custom time range of "last 2 days", set the mode to `last`, the amount to `2`, and the unit to `day`. If `includeCurrent` is `true`, the range will be yesterday and today; otherwise, the range will be yesterday and the day before yesterday.
If "custom" type is specified, you need to provide a custom time range in the `customTimeRange` field. (see [below for nested schema](#nestedatt--config--time_range))

<a id="nestedatt--config--advanced_analysis"></a>
### Nested Schema for `config.advanced_analysis`

Optional:

- `forecast` (Boolean)
- `not_trending` (Boolean)
- `trending_down` (Boolean)
- `trending_up` (Boolean)


<a id="nestedatt--config--custom_time_range"></a>
### Nested Schema for `config.custom_time_range`

Optional:

- `from` (String) The start timestamp of the time range in RFC3339 format.
- `to` (String) The end timestamp of the time range in RFC3339 format.


<a id="nestedatt--config--dimensions"></a>
### Nested Schema for `config.dimensions`

Optional:

- `id` (String) The identifier of the dimension.
- `type` (String) Enumeration of supported dimension/filter types.
Possible values: `datetime`, `fixed`, `optional`, `label`, `tag`, `project_label`, `system_label`, `attribution`, `attribution_group`, `gke`, `gke_label`


<a id="nestedatt--config--filters"></a>
### Nested Schema for `config.filters`

Required:

- `id` (String) The field to filter on
- `mode` (String) Filter mode to apply
Possible values: `is`, `starts_with`, `ends_with`, `contains`, `regexp`
- `type` (String) Enumeration of supported dimension/filter types.
Possible values: `datetime`, `fixed`, `optional`, `label`, `tag`, `project_label`, `system_label`, `attribution`, `attribution_group`, `gke`, `gke_label`

Optional:

- `inverse` (Boolean) Set to `true` to exclude the values.
- `values` (List of String) Values to filter on.


<a id="nestedatt--config--group"></a>
### Nested Schema for `config.group`

Optional:

- `id` (String) Dimension ID.
- `limit` (Attributes) To limit the number of results based on ranking. See [Limit by top/bottom](https://help.doit.com/docs/cloud-analytics/reports/editing-your-cloud-report#limit-by-topbottom). (see [below for nested schema](#nestedatt--config--group--limit))
- `type` (String) Enumeration of supported dimension/filter types.
Possible values: `datetime`, `fixed`, `optional`, `label`, `tag`, `project_label`, `system_label`, `attribution`, `attribution_group`, `gke`, `gke_label`

<a id="nestedatt--config--group--limit"></a>
### Nested Schema for `config.group.limit`

Optional:

- `metric` (Attributes) Deprecated: Use 'metrics' instead. (see [below for nested schema](#nestedatt--config--group--limit--metric))
- `sort` (String) Sort order for ranking results.
Possible values: `a_to_z`, `asc`, `desc`
- `value` (Number) The number of items to show

<a id="nestedatt--config--group--limit--metric"></a>
### Nested Schema for `config.group.limit.metric`

Optional:

- `type` (String) Type of metric to use.
Possible values: `basic`, `custom`, `extended`
- `value` (String) For basic metrics, the value can be one of: ["cost", "usage", "savings"]
If using custom metrics, the value must refer to an existing custom ID.




<a id="nestedatt--config--metric"></a>
### Nested Schema for `config.metric`

Optional:

- `type` (String) Type of metric to use.
Possible values: `basic`, `custom`, `extended`
- `value` (String) For basic metrics, the value can be one of: ["cost", "usage", "savings"]
If using custom metrics, the value must refer to an existing custom ID.


<a id="nestedatt--config--metric_filter"></a>
### Nested Schema for `config.metric_filter`

Optional:

- `metric` (Attributes) Deprecated: Use 'metrics' instead. (see [below for nested schema](#nestedatt--config--metric_filter--metric))
- `operator` (String) Comparison operator for filtering metric values.
Possible values: `gt`, `lt`, `lte`, `gte`, `b`, `nb`, `e`, `ne`
- `values` (List of Number)

<a id="nestedatt--config--metric_filter--metric"></a>
### Nested Schema for `config.metric_filter.metric`

Optional:

- `type` (String) Type of metric to use.
Possible values: `basic`, `custom`, `extended`
- `value` (String) For basic metrics, the value can be one of: ["cost", "usage", "savings"]
If using custom metrics, the value must refer to an existing custom ID.



<a id="nestedatt--config--metrics"></a>
### Nested Schema for `config.metrics`

Optional:

- `type` (String) Type of metric to use.
Possible values: `basic`, `custom`, `extended`
- `value` (String) For basic metrics, the value can be one of: ["cost", "usage", "savings"]
If using custom metrics, the value must refer to an existing custom ID.


<a id="nestedatt--config--secondary_time_range"></a>
### Nested Schema for `config.secondary_time_range`

Optional:

- `amount` (Number) Number of periods to shift back.
- `custom_time_range` (Attributes) Custom date range for the secondary time range. (see [below for nested schema](#nestedatt--config--secondary_time_range--custom_time_range))
- `include_current` (Boolean) Whether to align to complete previous periods (full year/quarter/month) vs shifting dates by amount.

    When `true`, selects complete periods (e.g., full previous year Jan 1-Dec 31, not up to today).
    When `false`, shifts dates by amount, which may result in partial periods extending to today.
- `unit` (String) Time interval unit for shifting.
Possible values: `day`, `month`, `quarter`, `year`

<a id="nestedatt--config--secondary_time_range--custom_time_range"></a>
### Nested Schema for `config.secondary_time_range.custom_time_range`

Optional:

- `from` (String) Start date.
- `to` (String) End date.



<a id="nestedatt--config--splits"></a>
### Nested Schema for `config.splits`

Optional:

- `id` (String) ID of the field to split.
- `include_origin` (Boolean) Indicate whether to include the origin.
- `mode` (String) Possible values: `even`, `custom`, `proportional`
- `origin` (Attributes) Origin info for cost splitting. (see [below for nested schema](#nestedatt--config--splits--origin))
- `targets` (Attributes List) Targets for the split. (see [below for nested schema](#nestedatt--config--splits--targets))
- `type` (String) Type of the split.
Possible values: `datetime`, `fixed`, `optional`, `label`, `tag`, `project_label`, `system_label`, `attribution`, `attribution_group`, `gke`, `gke_label`

<a id="nestedatt--config--splits--origin"></a>
### Nested Schema for `config.splits.origin`

Optional:

- `id` (String) ID of the origin.
- `type` (String) Type of the origin.
Possible values: `datetime`, `fixed`, `optional`, `label`, `tag`, `project_label`, `system_label`, `attribution`, `attribution_group`, `gke`, `gke_label`, `unallocated`


<a id="nestedatt--config--splits--targets"></a>
### Nested Schema for `config.splits.targets`

Optional:

- `id` (String) ID of the target.
- `type` (String) Type of the target.
If split type is "attribution_group", then target type must be "attribution".
Otherwise split types and target types must be the same.
Possible values: `datetime`, `fixed`, `optional`, `label`, `tag`, `project_label`, `system_label`, `attribution`, `attribution_group`, `gke`, `gke_label`
- `value` (Number) Percent of the target, represented in float format. E.g. 30% is 0.3. Required only if the Split Mode is custom.



<a id="nestedatt--config--time_range"></a>
### Nested Schema for `config.time_range`

Optional:

- `amount` (Number) Number of time units to include in the time range.
- `include_current` (Boolean) Whether to include the current time period.
- `mode` (String) Time range mode (last N periods, current period, or custom).
Possible values: `last`, `current`, `custom`
- `unit` (String) Time unit for the time range.
Possible values: `day`, `week`, `month`, `quarter`, `year`

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import doit_report.report [id]
```
